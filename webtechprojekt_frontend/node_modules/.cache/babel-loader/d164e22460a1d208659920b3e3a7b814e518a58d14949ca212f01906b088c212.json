{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  methods: {\n    async checkAuthStatus() {\n      try {\n        const token = localStorage.getItem('auth_token');\n        const response = await fetch(this.$store.state.urlObject.userUrl + '/check-auth', {\n          method: 'POST',\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            token\n          })\n        });\n        if (!response.ok) {\n          throw new Error(`HTTP-Fehler! Status: ${response.status}`);\n        }\n        const isTokenValid = await response.json();\n        if (isTokenValid.tokenValid == true) {\n          this.$store.commit(\"setIsLoggedInTrue\");\n        }\n      } catch (error) {\n        console.error(\"Fehler bei der Token-Überprüfung:\", error);\n        this.$store.commit(\"setIsLoggedInFalse\");\n      }\n    },\n    logoutAccount() {\n      localStorage.removeItem('auth_token');\n      localStorage.removeItem('email');\n      this.isLoggedIn = false;\n      this.$store.commit(\"setIsLoggedInFalse\");\n      console.log(\"Logout erfolgreich\");\n      this.$router.push('/');\n    }\n  },\n  data() {\n    return {\n      isLoggedIn: false,\n      isHomePage: false\n    };\n  },\n  watch: {\n    '$route'(to) {\n      this.isHomePage = to.name === 'HomeView' || to.path === '/';\n    }\n  },\n  mounted() {\n    this.checkAuthStatus();\n    this.isHomePage = this.$route.name === 'HomeView' || this.$route.path === '/';\n  }\n};","map":{"version":3,"names":["methods","checkAuthStatus","token","localStorage","getItem","response","fetch","$store","state","urlObject","userUrl","method","headers","body","JSON","stringify","ok","Error","status","isTokenValid","json","tokenValid","commit","error","console","logoutAccount","removeItem","isLoggedIn","log","$router","push","data","isHomePage","watch","$route","to","name","path","mounted"],"sources":["C:\\Users\\DUNG\\webtechprojekt_frontend\\src\\components\\NavHeader.vue"],"sourcesContent":["<template>\r\n  <nav :class=\"{ 'home-nav': isHomePage }\">\r\n    <ul class=\"nav__left\">\r\n      <li class=\"link\"><router-link to=\"/\">Home</router-link></li>\r\n      <li class=\"link\"><router-link to=\"/about\">About Us</router-link></li>\r\n      <li class=\"link no-style\"><router-link to=\"/contact-us\">Contact Us</router-link></li>\r\n    </ul>\r\n\r\n    <div class=\"nav__logo\">ArmanAir</div>\r\n\r\n    <ul class=\"nav__right\">\r\n      <li class=\"link login\" v-if=\"!this.$store.state.isLoggedIn\"><router-link to=\"/login\">Log In</router-link></li>\r\n      <li class=\"link blurr\" v-if=\"this.$store.state.isLoggedIn\"><router-link to=\"/user-information\">Account</router-link></li>\r\n      <li class=\"link login\" v-if=\"this.$store.state.isLoggedIn\">\r\n        <router-link to=\"/\" @click=\"logoutAccount\">Log Out</router-link>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  methods: {\r\n    async checkAuthStatus() {\r\n      try {\r\n        const token = localStorage.getItem('auth_token');\r\n        const response = await fetch(this.$store.state.urlObject.userUrl + '/check-auth', {\r\n          method: 'POST',\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({ token }),\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP-Fehler! Status: ${response.status}`);\r\n        }\r\n\r\n        const isTokenValid = await response.json();\r\n        if(isTokenValid.tokenValid == true){\r\n          this.$store.commit(\"setIsLoggedInTrue\");\r\n        }\r\n        \r\n      } catch (error) {\r\n        console.error(\"Fehler bei der Token-Überprüfung:\", error);\r\n        this.$store.commit(\"setIsLoggedInFalse\");\r\n      }\r\n    },\r\n    logoutAccount() {\r\n      localStorage.removeItem('auth_token');\r\n      localStorage.removeItem('email');\r\n      this.isLoggedIn = false;\r\n      this.$store.commit(\"setIsLoggedInFalse\");\r\n      console.log(\"Logout erfolgreich\");\r\n      this.$router.push('/');\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      isLoggedIn: false,\r\n      isHomePage: false,\r\n    };\r\n  },\r\n  watch: {\r\n    '$route'(to) {\r\n      this.isHomePage = to.name === 'HomeView' || to.path === '/';\r\n    }\r\n  },\r\n  mounted() {\r\n    this.checkAuthStatus();\r\n    this.isHomePage = this.$route.name === 'HomeView' || this.$route.path === '/';\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nnav {\r\n  position: absolute;\r\n  width: 100%;\r\n  padding: 1.5rem 4rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  background: var(--white);\r\n  z-index: 1000;\r\n}\r\n\r\n.home-nav {\r\n  background: transparent;\r\n  backdrop-filter: blur(1px);\r\n}\r\n\r\n.nav__logo {\r\n  font-size: 2rem;\r\n  font-weight: 700;\r\n  color: var(--primary-color);\r\n  letter-spacing: 1px;\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n}\r\n\r\n.home-nav .nav__logo {\r\n  color: var(--white);\r\n}\r\n\r\n.nav__left, .nav__right {\r\n  list-style: none;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 2.5rem;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.link a {\r\n  font-weight: 500;\r\n  color: var(--primary-color);\r\n  transition: 0.3s;\r\n  font-size: 0.95rem;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n  position: relative;\r\n}\r\n\r\n.home-nav .link a {\r\n  color: var(--white);\r\n}\r\n\r\n.link a::after {\r\n  content: '';\r\n  position: absolute;\r\n  bottom: -4px;\r\n  left: 0;\r\n  width: 0;\r\n  height: 2px;\r\n  background-color: var(--primary-color);\r\n  transition: width 0.3s ease;\r\n}\r\n\r\n.home-nav .link a::after {\r\n  background-color: var(--white);\r\n}\r\n\r\n.link a:hover::after {\r\n  width: 100%;\r\n}\r\n\r\n.login {\r\n  background-color: var(--primary-color);\r\n  padding: 0.8rem 2rem;\r\n  border-radius: 4px;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.login a {\r\n  color: var(--white) !important;\r\n}\r\n\r\n.link:last-child a:hover {\r\n  background-color: #0097e6;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  nav {\r\n    padding: 1rem 2rem;\r\n  }\r\n\r\n  .nav__left,\r\n  .nav__right {\r\n    gap: 1.5rem;\r\n  }\r\n\r\n  .link a {\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  .nav__logo {\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n  }\r\n}\r\n\r\n.blurr {\r\n  backdrop-filter: blur(1px);\r\n}\r\n</style>"],"mappings":";AAqBA,eAAe;EACbA,OAAO,EAAE;IACP,MAAMC,eAAeA,CAAA,EAAG;MACtB,IAAI;QACF,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;QAChD,MAAMC,QAAO,GAAI,MAAMC,KAAK,CAAC,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,SAAS,CAACC,OAAM,GAAI,aAAa,EAAE;UAChFC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YACP,cAAc,EAAE;UAClB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YAAEb;UAAM,CAAC;QAChC,CAAC,CAAC;QAEF,IAAI,CAACG,QAAQ,CAACW,EAAE,EAAE;UAChB,MAAM,IAAIC,KAAK,CAAC,wBAAwBZ,QAAQ,CAACa,MAAM,EAAE,CAAC;QAC5D;QAEA,MAAMC,YAAW,GAAI,MAAMd,QAAQ,CAACe,IAAI,CAAC,CAAC;QAC1C,IAAGD,YAAY,CAACE,UAAS,IAAK,IAAI,EAAC;UACjC,IAAI,CAACd,MAAM,CAACe,MAAM,CAAC,mBAAmB,CAAC;QACzC;MAEF,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;QACzD,IAAI,CAAChB,MAAM,CAACe,MAAM,CAAC,oBAAoB,CAAC;MAC1C;IACF,CAAC;IACDG,aAAaA,CAAA,EAAG;MACdtB,YAAY,CAACuB,UAAU,CAAC,YAAY,CAAC;MACrCvB,YAAY,CAACuB,UAAU,CAAC,OAAO,CAAC;MAChC,IAAI,CAACC,UAAS,GAAI,KAAK;MACvB,IAAI,CAACpB,MAAM,CAACe,MAAM,CAAC,oBAAoB,CAAC;MACxCE,OAAO,CAACI,GAAG,CAAC,oBAAoB,CAAC;MACjC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;IACxB;EACF,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLJ,UAAU,EAAE,KAAK;MACjBK,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EACDC,KAAK,EAAE;IACL,QAAQC,CAACC,EAAE,EAAE;MACX,IAAI,CAACH,UAAS,GAAIG,EAAE,CAACC,IAAG,KAAM,UAAS,IAAKD,EAAE,CAACE,IAAG,KAAM,GAAG;IAC7D;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACrC,eAAe,CAAC,CAAC;IACtB,IAAI,CAAC+B,UAAS,GAAI,IAAI,CAACE,MAAM,CAACE,IAAG,KAAM,UAAS,IAAK,IAAI,CAACF,MAAM,CAACG,IAAG,KAAM,GAAG;EAC/E;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}