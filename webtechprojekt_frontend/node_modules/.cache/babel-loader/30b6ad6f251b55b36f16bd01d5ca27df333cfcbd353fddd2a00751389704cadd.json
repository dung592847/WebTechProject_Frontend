{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"account-container\"\n};\nconst _hoisted_2 = {\n  class: \"form-group\"\n};\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\nconst _hoisted_4 = {\n  class: \"form-group\"\n};\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = {\n  class: \"form-group\"\n};\nconst _hoisted_7 = {\n  class: \"form-group\"\n};\nconst _hoisted_8 = {\n  class: \"form-group\"\n};\nconst _hoisted_9 = {\n  class: \"form-group\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[19] || (_cache[19] = _createElementVNode(\"h1\", null, \"Account\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[8] || (_cache[8] = _withModifiers((...args) => $options.updateAccount && $options.updateAccount(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_2, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    for: \"firstName\"\n  }, \"First Name:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.user.firstName = $event),\n    id: \"firstName\",\n    type: \"text\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.user.firstName]])]), _createElementVNode(\"div\", _hoisted_3, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    for: \"lastName\"\n  }, \"Last Name:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.user.lastName = $event),\n    id: \"lastName\",\n    type: \"text\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.user.lastName]])]), _createElementVNode(\"div\", _hoisted_4, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n    for: \"country\"\n  }, \"Country:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.user.country = $event),\n    id: \"country\",\n    type: \"text\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.user.country]])]), _createElementVNode(\"div\", _hoisted_5, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n    for: \"city\"\n  }, \"City:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.user.city = $event),\n    id: \"city\",\n    type: \"text\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.user.city]])]), _createElementVNode(\"div\", _hoisted_6, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", {\n    for: \"phoneNumber\"\n  }, \"Phone Number:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.user.phoneNumber = $event),\n    id: \"phoneNumber\",\n    type: \"tel\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.user.phoneNumber]])]), _createElementVNode(\"div\", _hoisted_7, [_cache[14] || (_cache[14] = _createElementVNode(\"label\", {\n    for: \"address\"\n  }, \"Address:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.user.address = $event),\n    id: \"address\",\n    type: \"text\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.user.address]])]), _createElementVNode(\"div\", _hoisted_8, [_cache[15] || (_cache[15] = _createElementVNode(\"label\", {\n    for: \"postalCode\"\n  }, \"Zip code:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.user.postalCode = $event),\n    id: \"postalCode\",\n    type: \"text\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.user.postalCode]])]), _createElementVNode(\"div\", _hoisted_9, [_cache[17] || (_cache[17] = _createElementVNode(\"label\", {\n    for: \"gender\"\n  }, \"Gender:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.user.gender = $event),\n    id: \"gender\"\n  }, _cache[16] || (_cache[16] = [_createElementVNode(\"option\", {\n    value: \"male\"\n  }, \"male\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"female\"\n  }, \"female\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"other\"\n  }, \"other\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.user.gender]])]), _cache[18] || (_cache[18] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"Save\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","updateAccount","_hoisted_2","for","$event","$data","user","firstName","id","type","_hoisted_3","lastName","_hoisted_4","country","_hoisted_5","city","_hoisted_6","phoneNumber","_hoisted_7","address","_hoisted_8","postalCode","_hoisted_9","gender","value"],"sources":["C:\\Users\\DUNG\\WebTechProject_Frontend\\webtechprojekt_frontend\\src\\components\\Account.vue"],"sourcesContent":["<template>\r\n    <div class=\"account-container\">\r\n      <h1>Account</h1>\r\n      <form @submit.prevent=\"updateAccount\">\r\n        <div class=\"form-group\">\r\n          <label for=\"firstName\">First Name:</label>\r\n          <input v-model=\"user.firstName\" id=\"firstName\" type=\"text\" />\r\n        </div>\r\n  \r\n        <div class=\"form-group\">\r\n          <label for=\"lastName\">Last Name:</label>\r\n          <input v-model=\"user.lastName\" id=\"lastName\" type=\"text\" >\r\n        </div>\r\n  \r\n        <div class=\"form-group\">\r\n          <label for=\"country\">Country:</label>\r\n          <input v-model=\"user.country\" id=\"country\" type=\"text\" />\r\n        </div>\r\n  \r\n        <div class=\"form-group\">\r\n          <label for=\"city\">City:</label>\r\n          <input v-model=\"user.city\" id=\"city\" type=\"text\" />\r\n        </div>\r\n  \r\n        <div class=\"form-group\">\r\n          <label for=\"phoneNumber\">Phone Number:</label>\r\n          <input v-model=\"user.phoneNumber\" id=\"phoneNumber\" type=\"tel\" />\r\n        </div>\r\n  \r\n        <div class=\"form-group\">\r\n          <label for=\"address\">Address:</label>\r\n          <input v-model=\"user.address\" id=\"address\" type=\"text\" />\r\n        </div>\r\n  \r\n        <div class=\"form-group\">\r\n          <label for=\"postalCode\">Zip code:</label>\r\n          <input v-model=\"user.postalCode\" id=\"postalCode\" type=\"text\" />\r\n        </div>\r\n  \r\n        <div class=\"form-group\">\r\n          <label for=\"gender\">Gender:</label>\r\n          <select v-model=\"user.gender\" id=\"gender\">\r\n            <option value=\"male\">male</option>\r\n            <option value=\"female\">female</option>\r\n            <option value=\"other\">other</option>\r\n          </select>\r\n        </div>\r\n  \r\n        <button type=\"submit\">Save</button>\r\n      </form>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        user: {\r\n          firstName: '',\r\n          lastName: '',\r\n          country: '',\r\n          city: '',\r\n          phoneNumber: '',\r\n          address: '',\r\n          postalCode: '',\r\n          gender: '' // Standardwert auf \"male\"\r\n        }\r\n      };\r\n    },\r\n    methods: {\r\n      async updateAccount() {\r\n      try {\r\n        this.$store.commit(\"setUser\",this.user)\r\n        this.$store.dispatch(\"updateAccount\")\r\n        this.user = { ...this.$store.state.user }\r\n      } catch (error) {\r\n        console.error('Fehler beim Senden der Anfrage:', error);\r\n      }\r\n    },\r\n    async getUserData() {\r\n  try {\r\n    // Token aus dem Local Storage abrufen\r\n    const token = localStorage.getItem('auth_token'); \r\n\r\n    // Sicherstellen, dass das Token existiert\r\n    if (!token) {\r\n      throw new Error('Kein Token gefunden');\r\n    }\r\n\r\n    // Senden der Anfrage mit dem Token im Authorization-Header\r\n    const response = await fetch(this.$store.state.urlObject.userUrl + '/users', {\r\n      method: 'GET',\r\n      headers: {\r\n        \"Authorization\": `Bearer ${token}`, // Token im Header hinzufügen\r\n        \"Content-Type\": \"application/json\", // Optional, falls notwendig\r\n      },\r\n    });\r\n\r\n    // Prüfen, ob die Anfrage erfolgreich war\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP-Fehler! Status: ${response.status}`);\r\n    }\r\n\r\n    // Die Antwort parsen\r\n    const responseObject = await response.json();\r\n    console.log(responseObject);\r\n\r\n    // Benutzer aus der Antwort extrahieren und speichern\r\n    const responseUser = responseObject.user;\r\n\r\n    const filteredUser = {\r\n     firstName: responseUser.firstName,\r\n        lastName: responseUser.lastName,\r\n        city: responseUser.city,\r\n        country: responseUser.country,\r\n        phoneNumber: responseUser.phoneNumber,\r\n        address: responseUser.address,\r\n        postalCode: responseUser.postalCode,\r\n        gender: responseUser.gender\r\n    };\r\n\r\n    this.$store.commit(\"setUser\", filteredUser);\r\n    this.user = { ...this.$store.state.user };\r\n\r\n  } catch (error) {\r\n    console.error(\"Fehler bei der Token-Überprüfung:\", error);\r\n    this.isLoggedIn = false;\r\n  }\r\n}\r\n  \r\n     \r\n    },\r\n    mounted() {\r\n    this.getUserData()\r\n    this.user = { ...this.$store.state.user }; // Kopiere die Benutzerdaten aus dem Store in das `user`-Objekt\r\n    console.log(this.user)\r\n    \r\n  }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .account-container {\r\n    max-width: 800px;\r\n    margin: 50px auto;\r\n    padding: 1rem;\r\n    border: 1px solid #ccc;\r\n    border-radius: 8px;\r\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  .form-group {\r\n    margin-bottom: 1rem;\r\n  }\r\n  \r\n  label {\r\n    display: block;\r\n    margin-bottom: 0.5rem;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  input,\r\n  select {\r\n    width: 100%;\r\n    padding: 0.8rem;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n  }\r\n  \r\n  button {\r\n    padding: 0.8rem 1.5rem;\r\n    background-color: #007bff;\r\n    color: #fff;\r\n    border: none;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  button:hover {\r\n    background-color: #0056b3;\r\n  }\r\n  </style>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}